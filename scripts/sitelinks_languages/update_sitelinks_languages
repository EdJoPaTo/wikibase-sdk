#!/usr/bin/env bash

which jq > /dev/null || {
  echo "requires to have jq (https://stedolan.github.io/jq/) installed"
  exit 1
}

echo "Generating ./src/helpers/sitelinks_sites.ts"
tee ./src/helpers/sitelinks_sites.ts << EOF
// Generated by 'npm run update-sitelinks-languages'
export const sites = $(./scripts/sitelinks_languages/get_sitelinks_sites) as const
EOF

echo "Generating ./src/helpers/sitelinks_languages.ts"
tee ./src/helpers/sitelinks_languages.ts << EOF
// Generated by 'npm run update-sitelinks-languages'
export const languages = $(ts-node ./scripts/sitelinks_languages/generate_sitelinks_languages.ts)
EOF

echo "Done updating ./src/helpers/sitelinks_languages.ts"
